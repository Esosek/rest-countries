---
import MainLayout from '../../layouts/MainLayout.astro';
import countryData from '../../data/data.json';
import DetailPage from '../../components/detail-page/DetailPage';
import type { Country } from '../../types/country';

export const getStaticPaths = () => {
  return countryData.map((country) => {
    return {
      params: { code: country.alpha3Code.toLowerCase() },
      props: country,
    };
  });
};

const country = Astro.props;
---

<MainLayout title={`${country.name} | Country Handbook`}>
  <DetailPage client:only="react" country={country as Country} />
</MainLayout>
